<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cat Parade</title>
    <style>
      :root { --bg:#0b0c10; --fg:#e5e7eb; --muted:#94a3b8; }
      html, body { height:100%; }
      body { margin:0; background:var(--bg); color:var(--fg); font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; overflow:hidden; }
      header { position:absolute; left:12px; top:10px; color:var(--muted); font-size:12px; z-index:10; user-select:none; }
      .world { position:relative; width:100%; height:100%; overflow:hidden; }
      .cat { position:absolute; width:96px; height:96px; will-change: transform; filter: drop-shadow(0 2px 4px rgba(0,0,0,.5)); }
      @keyframes scrollLeft {
        0% { transform: translateX(110vw); }
        100% { transform: translateX(-120px); }
      }
      /* Tail wag animation */
      .tail { transform-box: fill-box; transform-origin: 20% 50%; animation: wag 1.2s ease-in-out infinite; }
      @keyframes wag { 0% { rotate: 8deg; } 50% { rotate: -10deg; } 100% { rotate: 8deg; } }

      /* Rainbow trail behind each cat (to the right side) */
      .trail {
        position:absolute; left: 86px; top: 50%; transform: translateY(-50%);
        height: 12px; width: 35vmin; opacity: .78; border-radius: 8px;
        background: linear-gradient(90deg,#ff0040,#ff7a00,#ffef00,#2bd52b,#00c0ff,#3a3aff,#a93aff);
        background-size: 200% 100%;
        animation: flow 2s linear infinite;
        filter: saturate(1.15) blur(.2px);
        -webkit-mask: linear-gradient(90deg, transparent 0%, black 10%, black 95%, transparent 100%);
                mask: linear-gradient(90deg, transparent 0%, black 10%, black 95%, transparent 100%);
      }
      @keyframes flow { from { background-position: 0% 0; } to { background-position: 200% 0; } }

      /* Subtle stars */
      .stars { position:absolute; inset:0; background:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.7) 50%, transparent 60%),
        radial-gradient(1.5px 1.5px at 70% 20%, rgba(255,255,255,.5) 50%, transparent 60%),
        radial-gradient(1.8px 1.8px at 40% 70%, rgba(255,255,255,.6) 50%, transparent 60%),
        radial-gradient(1.2px 1.2px at 85% 55%, rgba(255,255,255,.5) 50%, transparent 60%);
        opacity:.25; pointer-events:none; z-index:0; }
      .controls { position:absolute; right:12px; bottom:12px; display:flex; gap:8px; z-index:10; }
      .btn { background:#0ea5e9; color:white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-size:14px; }
      .btn.secondary { background:#374151; }
    </style>
  </head>
  <body>
    <header>Cat Parade ‚Äî „Å≠„Åì„ÅåÊ®™„Å´ÊµÅ„Çå„Å¶„ÅÑ„Åè„Çà üêæ</header>
    <div class="world" id="world">
      <div class="stars"></div>
    </div>
    <div class="controls">
      <button class="btn" id="add">Áå´„Çí„Åµ„ÇÑ„Åô</button>
      <button class="btn secondary" id="clear">ÂÖ®ÈÉ®„Åë„Åô</button>
    </div>

    <script>
      const $ = (s) => document.querySelector(s);
      const world = $('#world');

      // Create an inline SVG cat
      function makeCatSVG(color = '#f9c6d0') {
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('viewBox', '0 0 100 100');
        svg.setAttribute('width', '96');
        svg.setAttribute('height', '96');
        svg.innerHTML = `
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0%" stop-color="${color}" />
              <stop offset="100%" stop-color="#ffdfe6" />
            </linearGradient>
          </defs>
          <!-- body softer oval -->
          <ellipse cx="58" cy="66" rx="26" ry="22" fill="url(#g1)" />
          <!-- tail (wagging) -->
          <g class="tail">
            <path d="M72 66c14 2 16 10 10 16-5 5-13 2-16-2" fill="none" stroke="${color}" stroke-width="6" stroke-linecap="round" />
          </g>
          <!-- head larger & rounder -->
          <circle cx="42" cy="46" r="19" fill="url(#g1)" />
          <!-- inner ears -->
          <path d="M29 40l6-10 6 10z" fill="#ffc0cb" opacity=".8" />
          <path d="M41 37l6-10 6 10z" fill="#ffc0cb" opacity=".8" />
          <!-- ears outline -->
          <path d="M28 39l6-10 6 10z" fill="${color}" opacity=".9" />
          <path d="M40 36l6-10 6 10z" fill="${color}" opacity=".9" />
          <!-- eyes with gentle blink -->
          <ellipse cx="35" cy="46" rx="2.6" ry="2.2" fill="#222">
            <animate attributeName="ry" values="2.2;0.3;2.2" dur="4s" repeatCount="indefinite" />
          </ellipse>
          <ellipse cx="49" cy="46" rx="2.6" ry="2.2" fill="#222">
            <animate attributeName="ry" values="2.2;2.2;0.3;2.2" dur="5s" repeatCount="indefinite" />
          </ellipse>
          <!-- nose & mouth -->
          <circle cx="42" cy="51" r="1.8" fill="#e57373" />
          <path d="M38 54q4 4 8 0" stroke="#333" stroke-width="1.4" fill="none" stroke-linecap="round" />
          <!-- blush -->
          <circle cx="32" cy="52" r="3.5" fill="#ffb6c1" opacity=".6" />
          <circle cx="52" cy="52" r="3.5" fill="#ffb6c1" opacity=".6" />
          <!-- whiskers -->
          <path d="M26 51h11M30 54h9M58 51h-11M54 54h-9" stroke="#555" stroke-width="1.6" stroke-linecap="round" />
          <!-- paws with toe beans -->
          <g opacity=".95">
            <circle cx="50" cy="82" r="4" fill="#fff" />
            <circle cx="64" cy="82" r="4" fill="#fff" />
            <circle cx="49" cy="81" r="1.2" fill="#ffb6c1" />
            <circle cx="51" cy="83" r="1" fill="#ffb6c1" />
            <circle cx="63" cy="81" r="1.2" fill="#ffb6c1" />
            <circle cx="65" cy="83" r="1" fill="#ffb6c1" />
          </g>
        `;
        return svg;
      }

      function random(min, max) { return Math.random() * (max - min) + min; }
      function pastel() {
        const hues = [330, 30, 200, 260, 150];
        const h = hues[Math.floor(Math.random()*hues.length)];
        return `hsl(${h} 80% 85%)`;
      }

      function spawnCat() {
        const wrap = document.createElement('div');
        wrap.className = 'cat';
        wrap.style.top = `${random(10, 80)}vh`;
        const dur = random(8, 16).toFixed(2);
        const delay = -random(0, 12).toFixed(2); // negative to start mid-way
        wrap.style.animation = `scrollLeft ${dur}s linear ${delay}s infinite`;
        // rainbow trail appears after the cat (to the right)
        const trail = document.createElement('div');
        trail.className = 'trail';
        wrap.appendChild(trail);
        // cute cat SVG on top
        wrap.appendChild(makeCatSVG(pastel()));
        world.appendChild(wrap);
        return wrap;
      }

      // initial cats
      for (let i=0; i<6; i++) spawnCat();

      $('#add').addEventListener('click', () => spawnCat());
      $('#clear').addEventListener('click', () => { world.innerHTML = ''; });
    </script>
  </body>
  </html>
